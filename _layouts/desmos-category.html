---
layout: default
show_sidebar: true
---

<div class="column is-12">
  {{ page.content }}
</div>

{% assign category_products = site.desmos-links | where: "category", page.category %}

<!-- Get list and count of category activities and calculators -->
<!-- {% assign activities = category_products| sort:page.sort | where: "type","activity" %}
{% assign activity_size = activities | size %} -->
{% assign activities = site.data.desmos-courses.activities | sort:page.sort | where: "type","activity" %}
{% assign activities = activities | where: "category",page.category %}
{% assign activity_size = activities | size %}


{% assign calculators = category_products| sort:page.sort | where: "type","calculator" %}
{% assign calculator_size = calculators | size %}

<!-- include activities -->
{% if activity_size != 0 %} 

  <hr style="height: 10px; background: {{site.colors.primary}}">

  <h1>Desmos Activities</h1>
  <br>

  <div class="columns is-multiline">

    {% for product in activities %}    

      <div class="column is-3-desktop is-6-tablet">

        <a href="{{ product.link }}" target="_blank">

          <div class="card">

            {% if product.image %}
            <div class="card-image">
              <figure class="image is-4by3">
                <img src="{{ product.image }}" alt="{{ product.title }}" style='object-fit: contain'/>
              </figure>
            </div>
            {% endif %}
            <div class="card-content">

              <p class="title is-4">{{ product.title }}</h2>
              <p class="subtitle is-4">{{ product.subtitle }}</p>  
              <p class="title is-5 has-text-right">{{ product.price }}</p>

            </div>
          </div>

        </a>

      </div>

    {% endfor %}

  </div>

{% endif%}

<!-- include calculators -->
{% if calculator_size != 0 %} 

  <hr style="height: 10px; background: {{site.colors.primary}}">

  <h1>Desmos Calculators</h1>
  <br>

  <div class="columns is-multiline">
    
    {% for product in calculators %}

      <div class="column is-3-desktop is-6-tablet">

        <a href="{{ product.link }}" target="_blank">

          <div class="card">

            {% if product.image %}
            <div class="card-image">
              <figure class="image is-4by3">
                <img src="{{ product.image }}" alt="{{ product.title }}" style='object-fit: contain'/>
              </figure>
            </div>
            {% endif %}
            <div class="card-content">

              <p class="title is-4">{{ product.title }}</h2>
              <p class="subtitle is-4">{{ product.subtitle }}</p>  
              <p class="title is-5 has-text-right">{{ product.price }}</p>

            </div>
          </div>

        </a>

      </div>

    {% endfor %}

  </div>
  
{% endif%}